# Cacao ??說???
??件???Cacao 家庭?用?管?系統?願景???? MVP ?求?作為???設計?工????共???。??內容?以「?波即上架 App Store ??Google Play?為??，???供家庭??隨?可??行?體???
---

## 1. 專?概述
- **??**：??透??信?家庭零?錢管?工具，???（Giver）???????，??孩子?Baby）???財?記帳習慣??- **策略**：直?採??React Native + Expo 建置行? App，?步???Go + Gin 後端，??即符???審核標???- **????*：即???、??稽?、??優?、??擴??
---

## 2. ?????畫??- **???零??流?**：避?口?承諾?紙本記?導致?差，?供??、核??餘??單一?實來???- **孩???財練習場**：?供簡?、???????帳?驗???????註強?責任???- **??信任機制**：送出請款?審???、零???放等?件??即??步??知，?低?待?誤解??
???面?1. Giver ?在??上快?設定家庭、錢?、零??規?並追蹤?額?2. Baby ?? App ?照上傳並送出請款，幾???收?審????3. ?表板??軸?統??表清??現每???，跨裝置資?一??
---

## 3. 角色??求???| 角色 | ?求??| ??條件 |
| --- | --- | --- |
| Giver（父???人? | ??規??審??款、查?統計、??控?| 一機??家庭財???播????，稽??????|
| Baby（孩子? | ?出請款??上??、查詢?額?歷史 | 流?簡單?通知快速、??軸??，?驗????信 |
| 系統管??????| 稽核??外??、客??法??援 | ?查??作??、產?報表、調?系統????? |

---

## 4. ??準?????1. **Mobile First, Store Ready**：??即?利上架 App Store / Google Play，?續?視?要擴??Web 後台??2. **???實來?**：MySQL ?唯一權?資?；??端???儲存???快?，避???本衝???3. **?追溯??信?*：???流????可?溯，?供稽?日誌??知紀??4. **??且自?*：推?、?表板????供即??饋?也?導孩子?????等???5. **漸進??張**：?完? MVP ????，?評估???、報表、?費方案????能??
### ?術選??- **?端**：React Native + Expo Router（TypeScript）??? React Query?Zustand?Expo SQLite/MMKV?Expo Notifications??- **後端**：Go 1.21 + Gin + GORM，採 REST API，???GraphQL/gRPC ??空???- **?知**：Firebase Cloud Messaging（含 Expo ??）? APNs，支??置註???好設???- **?署**：Docker ??端?Expo EAS ?出 iOS/Android 建置；CI/CD ??GitHub Actions??- **安全**：Gmail OAuth2 + ??帳??JWT Access/Refresh Token?速??制?稽?日誌?
---

## 5. MVP ?能範?
### 5.1 帳??家?- ?援 Email/密碼註??Gmail OAuth2 ?入，?次登?選??Giver ??Baby 身???- Giver 建?家庭並發??請?Email ??QR Code）?Baby ??後??家庭?- ?員?設定暱稱、頭???選）、?言?主題、通知?好；Giver ?????用?員??
### 5.2 ??管?
- 建?多個錢??????行帳?、信?卡?其他?，設定幣?、?始?額?警???- 餘?不???；支?編輯、??????設??；?額以交?紀?為準??新??
### 5.3 ?用??Allowance?- 建?定?（?????）???規?；?程執行?檢查餘?，??扣款並建?交???- 餘?不足???改??`pending_funds` 並推?通知；支???、修??額????查詢發????
### 5.4 請款?審??Request?- Baby ?建立?款?稿?輸入????類、用?、?註並????檔?；離線可建??稿??- ?出後進入待審??Giver ?核?、退??要?補件並?下?註?- ????建?交??扣?錢??額並?知?方；退??保?紀??追蹤??
### 5.5 交??統?- 每?交??含來?（Allowance/Request/Manual）、?額、幣?、?類、?註、???- ?表板顯示總?額、?辦?款、? 30 ?趨?、?類?例??援????類篩??????
### 5.6 ?知????- ???播涵?：?款送出?審???、零???放??額?足、?程錯誤?- ?援裝置註?/???勿??段??知?好?由?員調整??- App ??供通知中?，顯示未讀/已???並?援???新??
### 5.7 多?語系?主?- ?建繁?中?（?設??英??語系???????，?案?中管??- ?? default / light / dark 三種主?，支???系統?????，並?步?伺?器??
### 5.8 ???援???- ????可建?請款?稿?編輯?註、瀏覽?近?步???- ??後透? `/sync/operations` ?次?出，使??`temp_id` ?冪等??避??複??步結????饋??試????
### 5.9 資???
- 導覽：Dashboard ???? ???用????請款 ??交? ???知 ??設???- 3 步內完?主???（送出請款?核??款、設定零??）?表單?即??證?清??誤?示??
---

## 6. ???性??| ?目 | ??|
| --- | --- |
| ?能 | API P95 < 300ms；App ?? < 4 秒?主??面?? < 1 秒?|
| ?用??| 99% ???；離線?作恢復???1 ??????步?|
| 安全 | OAuth2 + JWT；Refresh Token ?HttpOnly Cookie ??Secure Store ??；?碼採 bcrypt；??速??制?稽?日誌?|
| ?? | ??????????款、帳?刪??程?符? Apple/Google ???報??|
| ?維護?| 後端?層????端??模組?；?式碼??? lint?formatter?單?測試?|
| ??測?| 結??日誌、Request ID?Prometheus ??（?求數?錯誤???程延?、推?送?????|
| ???| ?援??字??VoiceOver/TalkBack?主題?比? WCAG AA??|
| ?擴??| API 保??本??多家庭擴????資?欄?保????metadata??|

---

## 7. 驗收?????- **?能?景**?  1. Giver 註?家庭 ??建??? ??設??用????Baby 請款 ??Giver 審核 ????交???  2. Baby ??建?請款 ??上?後自?????Giver ?到?知並???  3. ?用??程自?發????餘??新 ???播?? ???表板顯示??統計?- **測試覆?**：?端核心模???70% ??/??測試；App ???? E2E（登??請款/審核）?- **?質??*：P0/P1 缺陷??0；CI ?lint/test/build ?通?；???QA 清單完???- **??準?**：隱私政策、??聲?、?????TestFlight/Internal Testing ??????- **????**：?款核???、通知???、離線?步????活躍家庭數?Bug 修復 SLA??
---

## 8. 風險???| 類別 | 說? | ??策略 |
| --- | --- | --- |
| ?設 | 使用????權推?、相機、相?| Onboarding 清?說??途???設??口?隱私承?|
| ?設 | 主????TWD，未來可?? | 資?欄?保??欄?；匯?? MVP 範? |
| 風險 | App 審核延遲?退?| ?Apple/Google ???寫??????案???緩??? |
| 風險 | ?播??複? | ??完? FCM/APNs 設?並在實?測試；建立偵?????試策略 |
| 風險 | ???步?誤 | 後端????檢查??楚錯誤碼；App 顯示?試???入??|
| 風險 | 家長?孩子?使用習慣差異 | ??測?段???饋?調整引??通知節?|

---

## 9. ?件??
- `docs/product-guide.md`（本檔?：產???、??? MVP ?求?- `docs/sys-design.md`：系統架構、模組職責、??模???署設???- `docs/plan-30d.md`?0 天????、?程????任??- ??：`docs/api-outline.md`（API 介面）、`docs/data-model.md`（ER ??Schema）、`docs/deploy-playbook.md`（部署?程?，??度補???
如????求??大調整，??更?本?件，??步?設計、???計畫???件，確保全體?????保?一??
