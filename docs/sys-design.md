# Cacao ç³»çµ±è¨­è?ç¸½è¦½

?¬æ?ä»¶æ?ä¾?Cacao MVP ?„æ?è¡“è¨­è¨ˆè??–ï?æ¶µè??€è¡“å??Šã€æ¶æ§‹ã€æ¨¡çµ„è·è²¬ã€è??™æ¨¡?‹ã€API è¦ç??éƒ¨ç½²è?æ¸¬è©¦ç­–ç•¥?‚å…§å®¹è? `docs/product-guide.md` ä¿æ?ä¸€?´ï?ä¸¦è??¦è???App é¦–ç™¼?³ä??¶ç?è¦æ???

---

## 1. ?€è¡“å???
| ?†å±¤ | ?¡ç”¨?€è¡?| èªªæ? |
| --- | --- | --- |
| Mobile App | React Native + Expo Routerï¼ˆTypeScriptï¼?| ?®ä?ç¨‹å?ç¢¼æ”¯??iOS/Androidï¼Œæ•´?ˆæ¨?­ã€æ·±å±¤é€???‡ç’°å¢ƒè¨­å®?|
| ?€?‹ç®¡??| React Query?Zustand?Expo SQLite/MMKV | React Query è² è²¬ä¼ºæ??¨ç??‹ï?Zustand ç®¡ç??¬åœ°?€?‹è??¢ç?ä½‡å? |
| UI / ä¸»é? | ?ªè? ThemeProviderï¼ˆdefault / light / darkï¼‰ã€Design Tokens | ç¢ºä?ä¸»é??‡æ??ç„¡?œç??‡ä??´è?è¦?|
| å¾Œç«¯ API | Go 1.21 + Gin + GORM | ?§åˆ¶å±¤å??¢ã€æ“´?…æ€§ä½³ï¼Œæ”¯?´äº¤?“è??’ç? |
| èªè??ˆæ? | Gmail OAuth2?JWT Access/Refresh?bcrypt | è¡Œå?ç«¯ä½¿??Secure Store/HttpOnly Cookie ?²å??‘è? |
| è³‡æ?åº?| MySQL 8ï¼ˆæ­£å¼ï??SQLiteï¼ˆæ¸¬è©¦è? App ç·©å?ï¼?| MySQL ?ºå”¯ä¸€?Ÿå¯¦ä¾†æ?ï¼›SQLite ?ªå??«å?è³‡æ? |
| ?¨æ’­ | Firebase Cloud Messaging?APNs?Expo Notifications | ?ä?è£ç½®è¨»å??å?å¥½è¨­å®šè??¨æ’­æ´¾é€?|
| ?¥è?/??§ | zap/zerolog?Prometheus?Sentry/Expo EAS | çµæ??–æ—¥èª?+ ?‡æ?ï¼Œè¿½è¹¤è?æ±‚è??’ç??€??|
| CI/CD | GitHub Actions?Expo EAS?Docker | ?ªå??·è? lint/test/buildï¼Œç”¢?ºå?ç«¯æ??è? App ??|

---

## 2. ?¶æ?æ¦‚å¿µ
```
?Œâ??€?€?€?€?€?€?€?€?€?€?€?€?€?€?€?€?€?€?€?€?€?€?€?€?€?€?€?€?€?€?€??
??           Mobile App          ??React Native + Expo
?? - UI (Router / Screens)       ??
?? - State (React Query / Store) ??
?? - Offline Queue (SQLite)      ??
?”â??€?€?€?€?€?€?€?€?€?€?€?€?€?€?¬â??€?€?€?€?€?€?€?€?€?€?€?€?€?€?€??
                ??HTTPS / JSON + Push
?Œâ??€?€?€?€?€?€?€?€?€?€?€?€?€?€?¼â??€?€?€?€?€?€?€?€?€?€?€?€?€?€?€??
??          API Gateway          ??Gin Router + Middleware
?œâ??€?€?€?€?€?€?€?€?€?€?€?€?€?€?¬â??€?€?€?€?€?€?€?€?€?€?€?€?€?€?€??
??Controllers   ??Services       ??é©—è??æ?æ¬Šã€å?æ¥­é?è¼?
?œâ??€?€?€?€?€?€?€?€?€?€?€?€?€?€?´â??€?€?€?€?€?€?€?€?€?€?€?€?€?€?€??
??   Repositories (GORM)         ??
?”â??€?€?€?€?€?€?€?€?€?€?€?€?€?€?¬â??€?€?€?€?€?€?€?€?€?€?€?€?€?€?€??
                ??
?Œâ??€?€?€?€?€?€?€?€?€?€?€?€?€?€?¼â??€?€?€?€?€?€?€?€?€?€?€?€?€?€?€??
??           MySQL 8             ???®ä??Ÿå¯¦ä¾†æ?
?”â??€?€?€?€?€?€?€?€?€?€?€?€?€?€?¬â??€?€?€?€?€?€?€?€?€?€?€?€?€?€?€??
                ??
?Œâ??€?€?€?€?€?€?€?€?€?€?€?€?€?€?¼â??€?€?€?€?€?€?€?€?€?€?€?€?€?€?€??
??    Background Jobs / Queue    ??Allowance ?’ç??é€šçŸ¥æ´¾é€ã€å?æ­¥è???
?”â??€?€?€?€?€?€?€?€?€?€?€?€?€?€?¬â??€?€?€?€?€?€?€?€?€?€?€?€?€?€?€??
                ??
?Œâ??€?€?€?€?€?€?€?€?€?€?€?€?€?€?¼â??€?€?€?€?€?€?€?€?€?€?€?€?€?€?€??
?? FCM / APNs / Expo Push ?šé?    ??
?”â??€?€?€?€?€?€?€?€?€?€?€?€?€?€?€?€?€?€?€?€?€?€?€?€?€?€?€?€?€?€?€??
```

---

## 3. æ¨¡ç?è²¬ä»»?©é™£
| æ¨¡ç? | Mobile | Backend | Jobs/Queue |
| --- | --- | --- | --- |
| èº«ä»½?‡å®¶åº?| è§’è‰²?¸æ??å?å¥½è¨­å®šã€é?è«‹æ?ç¨?| é©—è??å®¶åº­é??¯ã€å?å¥½å„²å­?| ?€è«‹é??Ÿé€šçŸ¥ï¼ˆå»¶ä¼¸ï? |
| ?¢å? | ?¢å??—è¡¨?ç·¨è¼¯ã€é?é¡è?è¦ºå? | ?¢å? CRUD?é?é¡é?è­‰ã€è­¦??| è­¦æ??¨æ’­ï¼ˆå»¶ä¼¸ï? |
| ?¶ç”¨??| è¦å??—è¡¨?å??œã€æ­·??| å»ºç?/?´æ–°è¦å??é?é¡æª¢??| ?’ç???¬¾?å»ºç«‹äº¤?“ã€é€šçŸ¥ |
| è«‹æ¬¾ | ?‰ç¨¿?é?ä»¶ã€é€å‡º | å»ºç?è«‹æ¬¾?ç??‹æ›´??| è£œä»¶?é?ï¼ˆå»¶ä¼¸ï? |
| å¯©æ ¸ | ?¸å?/?€?ã€å?è¨?| æ¬Šé?é©—è??äº¤?“ç???| å¯©æ ¸?é?ï¼ˆå»¶ä¼¸ï? |
| äº¤æ? | ?‚é?è»¸ã€å?é¡ã€çµ±è¨?| äº¤æ?å¯«å…¥?æŸ¥è©¢ã€å ±è¡¨è???| å®šæ?çµ±è?ï¼ˆå»¶ä¼¸ï? |
| ?šçŸ¥ | ?¨æ’­ä¸­å??å?å¥?| äº‹ä»¶å»ºæ??è?ç½®è¨»??| æ´¾é€æ¨?­ã€é?è©?|
| ?¢ç??Œæ­¥ | ä½‡å?ç®¡ç??ç??‹æ?ç¤?| `/sync/operations`?å†ªç­‰è???| å¤±æ??æ’­?‡å?è­?|

---

## 4. è³‡æ?æ¨¡å??˜è?
| è¡?| ?é?æ¬„ä? | èªªæ? |
| --- | --- | --- |
| `users` | email, password_hash, google_sub, display_name, locale, theme, role, status | ä½¿ç”¨?…ä¸»æª”ï??«ç³»çµ±è??²ï?giver/baby/adminï¼‰è??å¥½ |
| `families` | name, currency, timezone, created_by | å®¶åº­è¨­å?ï¼Œè??å“¡?é? `family_members` ?œè¯ |
| `family_members` | family_id, user_id, family_role, invited_by, joined_at | å®¶åº­?§è??²ï?giver/baby/...ï¼‰ï??¯æ´?€è«‹æ?ç¨?|
| `wallets` | family_id, name, type, balance, currency, warning_threshold, status | ?¢å?é¤˜é??±äº¤?“å?ç¸½ç¶­?ä???|
| `allowances` | family_id, giver_member_id, receiver_member_id, wallet_id, amount, frequency, next_run_at, status | å®šæ?/?¨æ??¼æ”¾è¦å??‡æ?ç¨‹è?è¨?|
| `requests` | family_id, requester_member_id, wallet_id, amount, category, notes, attachment_url, status, decision_by, decision_at, rejection_reason | è«‹æ¬¾è¨˜é?ï¼Œç??‹å???draft/pending/approved/rejected/cancelled |
| `transactions` | family_id, wallet_id, type, amount, source_type, source_id, category, occurred_at, notes | ?‘æ?ç´€?„ï?`type` ??credit/debit |
| `notifications` | user_id, event_type, payload, delivery_status, read_at | ?¨æ’­??App ?§æ??’ç?çµ±ä?ä¾†æ? |
| `sync_queue` | device_id, user_id, operation_type, payload, temp_id, status, retries, last_error | è¡Œå?ç«¯é›¢ç·šæ?ä½œä??³å??„ç??‹è¿½è¹?|
| `audit_logs` | actor_id, family_id, action, resource_type, resource_id, metadata, created_at | å®‰å…¨ç¨½æ ¸?å®¢?æŸ¥è©¢ç”¨ |

è©³ç´° Schema ??Migration ??`docs/data-model.md` ç¶­è­·??

---

## 5. API è¦ç?
- **è·¯ç”±?†ç?**ï¼š`/auth`, `/users`, `/families`, `/wallets`, `/allowances`, `/requests`, `/transactions`, `/notifications`, `/sync`, `/health`, `/metrics`??
- **?æ??¼å?**ï¼š`{ success: boolean, data?: T, error?: { code, message, details? } }`??
- **?ˆæ?**ï¼šä½¿??`Authorization: Bearer <AccessToken>`ï¼›Refresh Token ?é? HttpOnly Cookie ??Secure Store ?­é? `/auth/refresh`??
- **?ªç???*ï¼š`Idempotency-Key` header ?‹ç”¨?¼æ??¹è??€?‹ç?è«‹æ?ï¼ˆè?æ¬¾ã€å?æ­¥ã€ç™¼?¾ï???
- **?„ä»¶ä¸Šå‚³**ï¼šæ¡?ç°½ URLï¼ˆS3/GCS/R2ï¼‰æ? `multipart/form-data`ï¼Œé??¶æ?æ¡ˆå¤§å°è??¼å?ï¼ˆä?å¦??? MB, jpg/png/pdfï¼‰ã€?
- **?¯èª¤ç¢?*ï¼šçµ±ä¸€??`docs/api-outline.md` å®šç¾©ï¼Œå??«èº«ä»½å¤±?ˆã€è?æºä?å­˜åœ¨?é?é¡ä?è¶³ã€å†ªç­‰è?çªç?æ¡ˆä???

Middleware ?†å?ï¼šRequest ID ??Logger ??Recovery ??Rate Limit ??CORS ??JWT é©—è? ???ˆæ???

---

## 6. Mobile App è¨­è?
- **å°ˆæ?çµæ?**ï¼š`app/`ï¼ˆè·¯?±ï??`features/`ï¼ˆé??Ÿæ¨¡çµ„ï??`components/`?`stores/`?`services/`?`hooks/`?`i18n/`?`theme/`??
- **?€?‹æ?ç¨?*ï¼šReact Query ??? API ???å?å¾Œå¯«??cacheï¼Œä¸¦?Œæ­¥?³å?è¦ç•«?¢ï??¢ç??‚è???SQLite ç·©å???
- **?¢ç?æ©Ÿåˆ¶**ï¼šZustand `offlineQueue` + SQLiteï¼Œè??„æ?ä½œè? `temp_id`ï¼›`useSync` hook ??½ç¶²è·¯?€?‹ï??ªå??¹æ¬¡?¼å« `/sync/operations`??
- **?¨æ’­**ï¼š`expo-notifications` è¨»å?è£ç½® Token ???³è‡³ `/notifications/devices`ï¼›é??Šæ¨?­é€é? deep link å°å?å°æ??«é¢??
- **ä¸»é?/èªç³»**ï¼šThemeProvider ?­é? Design Tokenï¼Œæ”¯??default/light/darkï¼›`react-i18next` ??Expo Localization ç®¡ç? zh-TW/en ?‡æ???
- **æ¸¬è©¦**ï¼šJest + React Native Testing Libraryï¼ˆå–®??UIï¼‰ï?Detox ??Maestroï¼ˆE2Eï¼‰ã€?

---

## 7. å¾Œç«¯è¨­è?
- **å°ˆæ?çµæ?**ï¼š`main.go` ?Ÿå? ??`config/` è¼‰å…¥?°å? ??`routes/` è¨»å?è·¯ç”± ??`controllers/` ?•ç? HTTP ??`services/` å¯¦ä??†æ¥­?è¼¯ ??`repositories/` å­˜å?è³‡æ?åº???`models/` å®šç¾©å¯¦é? ??`jobs/` ?•ç??’ç??‡ä?????`infra/` ?´å?å¤–éƒ¨?å???
- **?å?å±¤é?é»?*ï¼?
  - `AuthService`ï¼šè¨»?Šã€ç™»?¥ã€OAuth?Token ?¼è?/?·æ–°?ç™»?ºã€?
  - `FamilyService`ï¼šå»ºç«‹å®¶åº­ã€é?è«‹æ?ç¨‹ã€è??²æ??é?è­‰ã€?
  - `WalletService`ï¼šéŒ¢??CRUD?é?é¡èª¿?´ï?ä½¿ç”¨ DB äº¤æ?ï¼‰ã€è­¦?’é€šçŸ¥??
  - `AllowanceService`ï¼šè??‡å»ºç«‹ã€æ?ç¨‹ã€é?é¡æª¢?¥ã€äº¤?“ç”¢?Ÿã€?
  - `RequestService`ï¼šè?ç¨¿ã€æ?äº¤ã€å¯©?¸ã€é?ä»¶ç®¡?†ã€?
  - `TransactionService`ï¼šäº¤?“å¯«?¥ã€æŸ¥è©¢ã€çµ±è¨ˆè??™è?ç®—ã€?
  - `NotificationService`ï¼šè?ç½®è¨»?Šã€ä?ä»¶å»ºæª”ã€æ¨?­æ´¾?ã€é?è©¦ã€?
  - `SyncService`ï¼šæ¥?¶é›¢ç·šæ‰¹æ¬¡ã€å†ªç­‰åˆ¤?·ã€å¯«?¥äº¤?“ã€?
- **?’ç?/ä½‡å?**ï¼šä½¿??`robfig/cron` ??`go-co-op/gocron` ?·è? Allowance ?¼æ”¾?é€šçŸ¥?é€ï?å¿…è??‚ä»¥è³‡æ?åº«é???Redis ç¢ºä??®ä??·è???

---

## 8. å®‰å…¨?‡å?è¦?
- å¯†ç¢¼??bcryptï¼ˆcost ??12ï¼‰ï??»å…¥?Ÿç”¨?Ÿç??åˆ¶??
- JWT Access Token ç´?15 ?†é?ï¼ŒRefresh Token 14 å¤©ï??¯è¨­å®šé??å–®?–ç??¬è?å¤±æ???
- ?è??ä?ï¼ˆç™»?¥ã€è??²è??´ã€é?é¡èª¿?´ï?å¯«å…¥ `audit_logs`??
- Log ?¿å?ç´€?„å€‹è??Tokenï¼›é?è¨?INFO ç­‰ç?ï¼Œæ”¯?´å¯èª¿æ•´??
- CORS ?åˆ¶?¨å??¹ç¶²?Ÿè?è¡Œå?è£ç½®ä½¿ç”¨??schemeï¼›æ???API èµ?HTTPS??
- æº–å??±ç??¿ç??æ??™æ?æ¬¾ã€æ??è²?ï?ç¬¦å? Apple/Google å¯©æ ¸??

---

## 9. ?¨ç½²?‡ç’°å¢?
- **?‹ç™¼**ï¼šDocker Compose ?Ÿå? MySQLï¼›Expo ??? `http://localhost:8080`ï¼›ç’°å¢ƒè??¸ç”± `.env` ç®¡ç???
- **Staging**ï¼šéƒ¨ç½²æ–¼?²ç«¯ï¼ˆRender/Railway/Fly.io ç­‰ï?ï¼Œæ•´??HTTPS?å?ä»½è???§ï¼›Expo EAS ?¢å‡ºæ¸¬è©¦ buildï¼ˆAndroid Internal / TestFlightï¼‰ã€?
- **Production**ï¼šç¨ç«‹è??™åº«?‡æ??¨ç?å¼æ??™ï?è¨­è‡ª?•å??´è???§?Šè­¦ï¼›App ?¼å?æ­???ˆã€?
- **CI/CD**ï¼šGitHub Actions ?·è? lint/test ??å»ºç½® Docker ? å? ??è§¸ç™¼ EAS Buildï¼ˆé?è¦?æ­??ï¼‰ï??¨ç½²?³æœ¬è¨˜é???`docs/deploy-playbook.md`??

---

## 10. æ¸¬è©¦ç­–ç•¥
- **å¾Œç«¯**ï¼š`go test ./...`ï¼ˆå–®???å?/?´å?ï¼‰ã€`golangci-lint`?Postman/k6 ?ˆç??‡è?è¼‰æ¸¬è©¦ã€?
- **è¡Œå?ç«?*ï¼šJestï¼ˆé?è¼??ƒä»¶ï¼‰ã€React Native Testing Libraryï¼ˆUIï¼‰ã€Detox/Maestroï¼ˆé??µæ?ç¨‹ï??Expo E2E Preview??
- **?‹å? QA**ï¼šä? `docs/plan-30d.md` ä¸­ç??±æª¢è¦–è??€çµ?QA æ¸…å–®?·è???
- **è¦†è??‡ç›®æ¨?*ï¼šå?ç«¯æ ¸å¿ƒæ¨¡çµ???70%ï¼Œè??•ç«¯?œéµæ¨¡ç? > 50%ï¼ŒE2E è¦†è??»å…¥?è?æ¬¾ã€å¯©?¸ã€é€šçŸ¥??

---

## 11. ?ˆæœ¬?‡ç¶­è­?
| ?ˆæœ¬ | ?¥æ? | ?é? |
| --- | --- | --- |
| v0.1 | 2024-10 | Nuxt + Go ?ç??¶æ?ï¼ˆå·²?œç”¨ï¼?|
| v0.2 | 2024-11 | ?‡æ? React Native + Expoï¼Œèª¿?´æ•´é«”è¨­è¨?| 
| v0.3 | ï¼œå?å®šï? | MVP ?½åœ°å¾Œæ›´?°å¯¦ä½œç´°ç¯€?‡ç›£?§æ•¸??|

?¥æ¶æ§‹æ??€è¡“æ±ºç­–æ??å¤§è®Šå?ï¼Œè??ˆæ›´?°æœ¬?‡ä»¶ï¼Œå??Œæ­¥ `docs/product-guide.md` ??`docs/plan-30d.md`ï¼Œç¢ºä¿å…¨é«”æ??¡å?ç³»çµ±?€?‹ä??ä??´ã€?
---

## 12. Repo / Monorepo µ²ºc«ØÄ³
- ¥ş³¡¼Ò²Õ¶°¤¤¦b³æ¤@ repo¡A`server/` ©Ó¸ü Go ¼Ò²Õ¡B`apps/` ¥]§t«eºİ¡]Expo ¦æ°Êºİ + ¹w¯dªº Web Admin¡^¡B`shared/` ºŞ²z«´¬ù»P³]­p¸ê²£¡B`infra/` ºŞ²z³¡¸p¸}¥»¡B`docs/` «O¦s³W®æ»P­pµe¡C¦p¦¹¥iÅı CI/CD ¦@¥Î¦P¤@®MÅv­­»PÀË¬d¡A«áÄò¤]¯à³v¨B©î¤À¡C
- `server/` ¤º³¡¥u«O¯d Go ¬ÛÃö¤º®e¡G`cmd/`¡]`api`¡B`jobs`¡^¡B`internal/`¡]`platform`¡B`domain`¡B`jobs` µ¥¤l¼Ò²Õ¡^¡B`configs/`¡B`migrations/`¡B`tools/`¡B`pkg/`¡A²M·¡¬É©w `cmd/` ­t³d DI + ±Ò°Ê¡A·~°ÈÅŞ¿è¶°¤¤¦b `internal/`¡C
- `apps/` ¤Uºû«ù `mobile/` + `web-admin/` µ²ºc¡F¦æ°Êºİ±Ä Expo Router¡Amobile ±MÄİªº EAS/¾ÌÃÒ/fastlane ³]©w²¾¨ì `apps/mobile/eas/`¡AÁ×§K©M¥ş°ì `infra/` ²V¦b¤@°_¡C
- `shared/` ¤À¦¨ `api-schema/`¡]OpenAPI/JSON Schema¡^¡B`client-sdk/`¡]¥Ñ schema codegen ªº Go/TS SDK¡^¡B`ui-kit-*`¡]¨Ì§Ş³N´Ì©î¤Àªº UI ®M¥ó¡^¡A½T«O schema ¬°³æ¤@¯u¬Û¨Ó·½¡C
- `infra/` ±M¤ß³B²z¸óªA°È°òÂ¦³]¬I¡Gdocker-compose¡BGitHub Actions¡B¸ê®Æ®wªì©l¸}¥»µ¥¡Fmobile ¯S¦³ªº³]©w«h·h¦^ `apps/mobile`¡C
- `docs/` §ï¬°ÁcÅé¤¤¤å¿é¥X¡]°Ñ·Ó `rules.md`¡^¡A¶°¤¤²£«~¡B¨t²Î³]­p»P 30 ¤é­pµe¡F§R°£ÂÂªº `docs/sys-design.md` «á¡A½Ğ¦b¬ÛÃö `docs/*.md` °O¿ı­«­n²§°Ê¡C

```text
cacao/
¢u¢w server/
¢x  ¢u¢w cmd/                # api¡Bjobs µ¥ binary
¢x  ¢u¢w internal/           # platform¡Bdomain¡Bjobs¡Bshared util
¢x  ¢u¢w configs/            # app.{env}.yaml¡B.env.example
¢x  ¢u¢w migrations/         # DB schema ª©¥»±±ºŞ
¢x  ¢u¢w tools/              # codegen / Task CLI
¢x  ¢|¢w pkg/                # ¯u¥¿¥i¶}©ñªº¦@¥Î®M¥ó¡]¥Ø«e¥i¯d¥Õ¡^
¢u¢w apps/
¢x  ¢u¢w mobile/             # Expo Router app¡]§t eas/¡Bservices/¡Bfeatures/ µ¥¡^
¢x  ¢|¢w web-admin/          # React Web «á¥x¹w¯dªÅ¶¡
¢u¢w shared/
¢x  ¢u¢w api-schema/         # OpenAPI / JSON Schema¡]³æ¤@¯u¬Û¨Ó·½¡^
¢x  ¢u¢w client-sdk/         # ¥Ñ schema codegen ªº Go / TS SDK
¢x  ¢|¢w ui-kit-*            # ¨Ì§Ş³N´Ì©î¤Àªº³]­p¨t²Î
¢u¢w infra/
¢x  ¢u¢w docker-compose/     # MySQL¡BMailhog¡BMinIO µ¥ local infra
¢x  ¢|¢w github/             # GitHub Actions workflows
¢u¢w docs/                  # product guide¡Bsys-design¡Bplan-30d
¢|¢w shared tooling         # package.json¡Bpnpm-workspace.yaml µ¥ monorepo ¤¤¥¡³]©w
```

- `server/cmd/api` ¥u°µ config + ±Ò°Ê¡]¸ü¤J `server/internal/platform/router`¡^¡A·~°ÈÅŞ¿è¶°¤¤¦b `internal/domain/*`¡A`internal/jobs` «h´£¨Ñ worker/scheduler¡C  
- `apps/mobile` ³z¹L `services/api.ts` ³s½u `EXPO_PUBLIC_API_URL`¡A`features/auth` ´£¨Ñ Provider/Hook¡AExpo Router ªº `app/_layout.tsx` ²Î¤@±¾¸ü `AuthProvider`¡AÁ×§K¸ô¥Ñ´²¸¨¡C  
- `package.json`¡]repo root¡^ºŞ²z¸ó¼Ò²Õ©R¥O¡G`npm run dev:api`¡B`npm run dev:jobs`¡B`npm run dev:mobile`¡B`npm run lint`¡B`npm run typecheck`¡A¨Ã«Å§i `workspaces: ["apps/*", "shared/*"]`¡A¤è«K¥¼¨Ó¤Á´« pnpm workspace¡C  
- `infra/github/*.yml` ±±¨î PR pipeline¡]Go ³æ¤¸´ú¸Õ / golangci-lint¡BReact Native lint/typecheck¡B¥²­nªº EAS build/´£¥æ¡^¡F­Y»İ¤H¤uÄ²µo EAS¡A«ØÄ³¦b `server/tools/` ©Î `apps/mobile/scripts/` ©ñ¸m¹ïÀ³ CLI¡C## 13. ?‹ç™¼?å??–æ???- è©³ç´°?½ä»¤ç´€?„è??ƒè€?`docs/sys-design.md`ï¼›ä»¥ä¸‹ç‚º?å??å??–ç›®??repo ?„æ?è¦ï?å¾Œç??°ç’°å¢ƒè?ä¾æ­¤æµç?å¾®èª¿??
**Go API**
- ??repo ?¹ç›®?„åŸ·è¡?`go mod init github.com/Cacao/Cacao`ï¼Œæ¥??`go get github.com/gin-gonic/gin@v1.10.0` ä»¥å»ºç«?baseline ä¾è³´??- ä¾ç¬¬ 12 ç« ç?çµæ?å»ºç??®é?ï¼ˆ`cmd/api`, `internal/platform`, `internal/{auth,families,...}`, `pkg`, `migrations`, `configs`, `jobs`, `services/api`, `shared/*`, `tools` ç­‰ï?ï¼Œé¿?å?çºŒæ¬å®¶ã€?- ?ƒè€ƒç›®?ç? `cmd/api/main.go` ??`internal/platform/{config,router,server}`ï¼Œç¢ºä¿ï?
  - `config.Load()` å¾?`CACAO_ENV / CACAO_API_PORT / CACAO_ALLOW_CORS` è®€?–ç’°å¢ƒè¨­å®šã€?  - `router.New()` ?³å?è¨»å? `/health`ï¼Œä???GitHub Actions ?‡ç›£?§æª¢?¥é???  - `server.New(...).Run()` ?é? `slog` è¨˜é??Ÿå?è³‡è???- ?·è? `go build ./cmd/api` é©—è?ç¨‹å?ç¢¼ç??‹ï?å¿…è??‚æ? `go test ./...`?`golangci-lint` ç´å…¥ `tools/Taskfile` ??GitHub Actions??
**Expo / React Native App**
- å»ºç? `apps/mobile`ï¼š`npx create-expo-app@latest apps/mobile --template blank-typescript`ï¼Œå??å?ç«‹åˆ»?ªé™¤?è¨­ `App.tsx` ä¸¦å???Expo Router??  - `package.json`ï¼š`main` ?‡å? `expo-router/entry`ï¼Œscripts å¢å? `lint`ï¼ˆ`expo lint`ï¼‰è? `typecheck`ï¼ˆ`tsc --noEmit`ï¼‰ã€?  - `index.ts` ?¹ç‚º `import 'expo-router/entry';`??  - `tsconfig.json` å¢å? `paths` ??`"@/*": ["./*"]`ï¼Œæ–¹ä¾¿å…±??hooks/services??  - `app.json` ?°å? `scheme: "cacao"` ??`extra.apiUrl`ï¼ˆé?è¨?`http://localhost:8080`ï¼‰ï?ä¸¦æ–¼ `plugins` ?—å‡º `expo-router`, `expo-sqlite`, `expo-localization`, `expo-secure-store`??- å¥—ä»¶å®‰è?å»ºè­°æµç?ï¼?  1. `npx expo install expo-router`.
  2. `npx expo install @tanstack/react-query zustand @react-native-async-storage/async-storage expo-sqlite expo-notifications expo-localization expo-secure-store @react-native-community/netinfo expo-linking react-native-safe-area-context react-native-screens react-native-gesture-handler react-native-reanimated expo-status-bar`.
  3. ?¶ä?ç´?JS å¥—ä»¶ï¼ˆ`react-i18next`, `i18next` ç­‰ï???`npm --prefix apps/mobile install`??- å»ºç? router ?®é?ï¼š`app/_layout.tsx` ä»?`SafeAreaProvider` + `QueryClientProvider` ?…ä? `Stack`ï¼Œ`app/(tabs)` ??Dashboard/Requests/Settings ?ï?ä¸¦å?æ­¥å»ºç«?`features/`, `services/`, `stores/`, `hooks/`, `i18n/`, `theme/`ï¼ˆå¯??`.gitkeep` ä¿ç?ç©ºè??™å¤¾ï¼‰ã€?- ?·è? `npm --prefix apps/mobile run lint`ï¼ˆé?æ¬¡æ??ªå?å®‰è? ESLint ??`eslint-config-expo`ï¼‰è? `npm --prefix apps/mobile run typecheck`ï¼Œç¢ºä¿åŸº?¬è³ª?å??€??
**?±ç”¨å·¥ä?æµç?**
- ?¹ç›®??`package.json` å·²å?ç¾©å·¥ä½œå?ï¼?  - `npm run dev:api` ??`go run ./cmd/api`
  - `npm run dev:mobile` ??`npm --prefix apps/mobile run start`
  - `npm run lint` ???®å?ä»????Expo lintï¼Œå¯è¦–é?æ±‚æ“´?…æ? `eslint` + `golangci-lint`??- å¦‚é??å»ºä»»ä?ç«¯ï??™å???`docs/sys-design.md` è¿½å??‚é??³ï?ç¶­æ?å¯©è??§ï??¥æ?ç¨‹æ??å¤§è®Šæ›´ï¼Œå??°æœ¬ç¯€?Œæ­¥?´æ–°ï¼Œé¿?æ?ä»¶è?å¯¦é??€?‹æ?ç§»ã€?


